apiVersion: apps/v1
kind: Deployment
metadata:
  name: orderer0
  labels:
    app: orderer0
    group: hlf
spec:
  replicas: 1
  strategy:
    type: Recreate
  selector:
    matchLabels:
      app: orderer0
  template:
    metadata:
      labels:
        app: orderer0
        group: hlf
    spec:
      volumes:
        - name: orderer-persistentdata
          hostPath:
            path: /Users/mauro/stigma/hlf-external/storage/orderer
            type: DirectoryOrCreate
        - name: orderer-claim0
          hostPath:
            path: /Users/mauro/stigma/hlf-external/channel-artifacts/genesis.block
        - name: orderer-claim1
          hostPath:
            path: /Users/mauro/stigma/hlf-external/crypto-config/ordererOrganizations/consortium/orderers/orderer0/msp
        - name: orderer-claim2
          hostPath:
            path: /Users/mauro/stigma/hlf-external/crypto-config/ordererOrganizations/consortium/orderers/orderer0/tls
      containers:
        - name: orderer0
          workingDir: /app
          image: hyperledger/fabric-orderer:amd64-2.1.0
          args:
            - orderer
          ports:
            - containerPort: 7050
          volumeMounts:
          - mountPath: /var/hyperledger/production
            name: orderer-persistentdata
          - mountPath: /var/hyperledger/orderer/genesis.block
            name: orderer-claim0
          - mountPath: /var/hyperledger/orderer/msp
            name: orderer-claim1
          - mountPath: /var/hyperledger/orderer/tls
            name: orderer-claim2
          env:
            - name: "FABRIC_LOGGING_SPEC"
              value: "DEBUG"
            - name: "ORDERER_GENERAL_GENESISFILE"
              value: "/var/hyperledger/orderer/genesis.block"
            - name: "ORDERER_GENERAL_GENESISMETHOD"
              value: "file"
            - name: "ORDERER_GENERAL_LISTENADDRESS"
              value: "0.0.0.0"
            - name: "ORDERER_GENERAL_LOCALMSPDIR"
              value: "/var/hyperledger/orderer/msp"
            - name: "ORDERER_GENERAL_LOCALMSPID"
              value: "OrdererMSP"
            - name: "ORDERER_GENERAL_TLS_CERTIFICATE"
              value: "/var/hyperledger/orderer/tls/server.crt"
            - name: "ORDERER_GENERAL_TLS_ENABLED"
              value: "true"
            - name: "ORDERER_GENERAL_TLS_PRIVATEKEY"
              value: "/var/hyperledger/orderer/tls/server.key"
            - name: "ORDERER_GENERAL_TLS_ROOTCAS"
              value: "[/var/hyperledger/orderer/tls/ca.crt]"
            - name: "ORDERER_GENERAL_CLUSTER_CLIENTCERTIFICATE"
              value: "/var/hyperledger/orderer/tls/server.crt"
            - name: "ORDERER_GENERAL_CLUSTER_CLIENTPRIVATEKEY"
              value: "/var/hyperledger/orderer/tls/server.key"
            - name: "ORDERER_GENERAL_CLUSTER_ROOTCAS"
              value: "[/var/hyperledger/orderer/tls/ca.crt]"